<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:text="${#themes.code('cas.daoming.title')}"></title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <!-- CSS Global Compulsory-->
    <link rel="stylesheet" href="//cdn.doctorm.cn/unify19/assets/plugins/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="//cdn.doctorm.cn/unify19/assets/css/style.css">
    <link rel="stylesheet" href="//cdn.doctorm.cn/unify19/assets/plugins/sky-forms-pro/skyforms/css/sky-forms.css">
    <link rel="stylesheet"
          href="//cdn.doctorm.cn/unify19/assets/plugins/sky-forms-pro/skyforms/custom/custom-sky-forms.css">
    <link rel="stylesheet" href="//cdn.doctorm.cn/unify19/assets/plugins/animate.css">
    <!--[if lt IE 9]>
    <link rel="stylesheet" href="//cdn.doctorm.cn/unify19/assets/plugins/sky-forms-pro/skyforms/css/sky-forms-ie8.css">
    <![endif]-->
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link href="//cdn.doctorm.cn/unify19/assets/plugins/line-icons/line-icons.css" rel="stylesheet">
    <link href="//cdn.doctorm.cn/unify19/assets/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet">

    <link rel="stylesheet" href="//cdn.doctorm.cn/unify19/assets/css/headers/header-v1.css">
    <link rel="stylesheet" href="//cdn.doctorm.cn/unify19/assets/css/footers/footer-v2.css">
    <link rel="stylesheet" href="//cdn.doctorm.cn/unify19/assets/css/theme-colors/orange.css">
    <link rel="stylesheet" href="//cdn.doctorm.cn/unify19/assets/css/app.css">
    <link rel="stylesheet" href="//fdd.zjcdn.cn/css/base.css">
    <link rel="stylesheet" href="//fdd.zjcdn.cn/css/fdd-pc-head-foot.css">
    <link rel="stylesheet" href="//fdd.zjcdn.cn/css/fdd-pc-background.css">
    <link rel="stylesheet" href="//fdd.zjcdn.cn/css/fdd-pc.css">
    <link rel="stylesheet" th:href="@{${#themes.code('cas.daoming.css')}}">
    <style>
        .impowerBox .loginPanel .title, .impowerBox .info {
            color: #FFF;
        }

        .form-group {
            min-height: 70px;
        }

        .form-group .errors, .form-group .invalid {
            color: #F00;
            padding-top: 5px;
            padding-bottom: 10px;
        }

        .form-group .invalid {
            display: block;
        }
        .items_panel {
            padding: 30px 50px 30px 50px;
        }
        .loginWrap{
            min-height: 600px;
        }
        .right-panel{
            width: 330px;
        }
    </style>
    <script type="text/javascript" src="//cdn.doctorm.cn/unify19/assets/plugins/jquery/jquery.min.js"></script>
    <script type="text/javascript" src="//cdn.doctorm.cn/unify19/assets/plugins/jquery/jquery-migrate.min.js"></script>
    <script type="text/javascript" src="//cdn.doctorm.cn/unify19/assets/plugins/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="//cdn.doctorm.cn/unify19/assets/plugins/smoothScroll.js"></script>
    <!-- Checkout Form -->
    <script src="//cdn.doctorm.cn/unify19/assets/plugins/sky-forms-pro/skyforms/js/jquery.validate.min.js"></script>
    <script src="//cdn.doctorm.cn/unify19/assets/plugins/sky-forms-pro/skyforms/js/jquery.maskedinput.min.js"></script>
    <!-- Order Form -->
    <script src="//cdn.doctorm.cn/unify19/assets/plugins/sky-forms-pro/skyforms/js/jquery-ui.min.js"></script>
    <script src="//cdn.doctorm.cn/unify19/assets/plugins/sky-forms-pro/skyforms/js/jquery.form.min.js"></script>
    <script type="text/javascript" src="//cdn.doctorm.cn/unify19/assets/plugins/wow-animations/js/wow.min.js"></script>
    <script src="//res.wx.qq.com/connect/zh_CN/htmledition/js/wxLogin.js"></script>

    <script th:src="@{${#themes.code('cas.daoming.js')}}"></script>
</head>
<body>
<input type="hidden" value="http://passport.doctorm.cn" id="scanUrl" name="scanUrl">
<input type="hidden" value="" id="isBindWechat" name="isBindWechat">
<input type="hidden" value="wx98022f921a4c511a" id="appId" name="appId">
<!-- 头部开始 -->
<!--=== Header v1 ===-->
<div class="header-v1 fdd-header-v1">
    <div class="navbar navbar-default mega-menu" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <div class="col-md-12 col-xs-12">
                    <a class="navbar-brand" href="<%=url %>">
                        <img width="130" id="logo-header" th:src="@{${#themes.code('cas.daoming.logo')}}"
                             alt="Logo">
                    </a>
                    <div class="f_l" style="padding:34px 0 0 10px; font-size:16px;"><span class="color99 mr_10">|</span>
                        <title th:text="${#themes.code('cas.daoming.keyword')}"></title>
                    </div>
                </div>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse navbar-responsive-collapse">
                <!--<ul class="nav navbar-nav navbar-right">-->
                <!--<li><a href="<%=url %>">首页</a></li>-->
                <!--<li><a href="<%=url %>/auth/join">免费入驻</a></li>-->
                <!--<li class="active"><a href="<%=url %>/auth/login">登录后台</a></li>-->
                <!--</ul>-->
            </div><!-- /navbar-collapse -->
        </div>
    </div>
</div>

<!--=== End Header v1 ===-->
<!--头部结束-->
<!--内容开始-->
<div class="loginWrap">
    <div class="wd810 clearfix">
        <div class="left-panel col-xs-7">
            <form method="post" id="sky-form" th:object="${credential}" action="login">
                <div class="alert alert-warning fade in" id="tips" name="tips" style="display: none;">
                    <button data-dismiss="alert" class="close" type="button">×</button>
                    <strong>抱歉，您的微信尚未绑定管理后台帐号，请您输入手机号码和密码登录</strong>
                </div>
                <div class="alert alert-danger" th:if="${#fields.hasErrors('*')}">
                    <button data-dismiss="alert" class="close" type="button">×</button>
                    <span th:each="err : ${#fields.errors('*')}" th:utext="${err}">Example error</span>
                </div>

                <div class="login-panel">
                    <div class="title"><h3 th:utext="#{screen.welcome.instructions}">Enter your Username and
                        Password</h3></div>

                    <div class="items_panel">

                        <section class="form-group login-input">
                            <!--<label for="username" th:utext="#{screen.welcome.label.netid}">Username</label>-->

                            <div th:if="${openIdLocalId}">
                                <strong>
                                    <span th:utext="${openIdLocalId}"/>
                                </strong>
                                <input type="hidden"
                                       id="username"
                                       name="username"
                                       th:value="${openIdLocalId}"/>
                            </div>
                            <div class="input-group" th:unless="${openIdLocalId}">
                                <span class="input-group-addon"><i class="fa fa-user"></i></span>
                                <input class="form-control required"
                                       id="username"
                                       size="25"
                                       tabindex="1"
                                       type="text"
                                       th:disabled="${guaEnabled}"
                                       th:field="*{username}"
                                       th:accesskey="#{screen.welcome.label.netid.accesskey}"
                                       autocomplete="off"/>
                            </div>
                        </section>
                        <section class="form-group login-input">
                            <!--<label for="password" th:utext="#{screen.welcome.label.password}">Password</label>-->

                            <div class="input-group">
                                <span class="input-group-addon"><i class="fa fa-lock"></i></span>
                                <input class="form-control required"
                                       type="password"
                                       id="password"
                                       size="25"
                                       tabindex="2"
                                       th:accesskey="#{screen.welcome.label.password.accesskey}"
                                       th:field="*{password}"
                                       autocomplete="off"/>

                                <span id="capslock-on" style="display:none;">
                                <p>
                                    <i class="fa fa-exclamation-circle"></i>
                                    <span th:utext="#{screen.capslock.on}"/>
                                </p>
                            </span>
                            </div>
                        </section>
                        <section class="form-group login-input">
                            <!--<label for="password" th:utext="#{screen.welcome.label.password}">Password</label>-->

                            <div class="input-group  input-captcha">
                                <span class="input-group-addon"><i class="fa  fa-check-square-o"></i></span>
                                <input class="required" style="width: 60%" id="checkVerifyCode"
                                       type="text"
                                       size="6"
                                       tabindex="3"
                                       th:accesskey="#{screen.welcome.label.captcha.accesskey}"
                                       th:field="*{captcha}"
                                       autocomplete="off"/>
                                <img src="loginVerifyCode" width="100" height="44" alt="Captcha image" id="login_img_verifycode" onclick="changeVerifyCode">
                                <span id="capslock-on" style="display:none;">
                                <p>
                                    <i class="fa fa-exclamation-circle"></i>
                                    <span th:utext="#{screen.capslock.on}"/>
                                </p>
                            </span>
                            </div>
                        </section>
                        <div class="login-btn-bar">
                            <input type="hidden" name="execution" th:value="${flowExecutionKey}"/>
                            <input type="hidden" name="_eventId" value="submit"/>
                            <input type="hidden" name="platform" value="${platform}"/>
                            <input type="hidden" name="geolocation"/>
                            <input class="btn btn-u btn-block rounded h_40 but-u-1 btn-u-green"
                                   th:unless="${recaptchaSiteKey != null AND recaptchaInvisible != null AND recaptchaSiteKey AND recaptchaInvisible}"
                                   name="submit"
                                   accesskey="l"
                                   th:value="#{screen.welcome.button.login}"
                                   tabindex="6"
                                   type="submit"
                                   value="Login3"
                            />
                            <button class="btn btn-u btn-block btn-submit g-recaptcha"
                                    th:if="${recaptchaSiteKey != null AND recaptchaInvisible != null AND recaptchaSiteKey AND recaptchaInvisible}"
                                    th:attr="data-sitekey=${recaptchaSiteKey}, data-badge=${recaptchaPosition}"
                                    data-callback="onSubmit"
                                    name="submitBtn"
                                    accesskey="l"
                                    th:text="#{screen.welcome.button.login}"
                                    tabindex="6"
                            />
                        </div>
                        <div class="row pt_15">
                            <div class="col-xs-6 tex_l bluelink">
                                <a href="/clientredirect?client_name=WeChat">微信登录</a>
                            </div>
                            <div class="col-xs-6 tex_r bluelink">
                                <a href="<%=url %>/auth/changepassword">忘记密码</a>
                            </div>
                            <div class="col-xs-6 jzmm" th:if="${rememberMeAuthenticationEnabled}">   <!-- 默认记住密码！ -->
                                <div class="roundedOne pull-left">
                                    <input type="checkbox" name="rememberMe" id="rememberMe" value="true" tabindex="5"/>
                                    <label for="rememberMe" th:text="#{screen.rememberme.checkbox.title}">Remember
                                        Me</label>
                                </div>
                                <i id="jzmm">记住密码</i>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="right-panel col-xs-5">
            <div class="wx_login_wrap clearfix" id="login_container">
            </div>

        </div>
    </div>
</div>
<!--内容结束-->
<!--start foot -->
<div class="footer-v2 foot-v2">
    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                <p th:utext="${#themes.code('cas.daoming.footer.copyright')}">@2016</p>
            </div>
        </div>
    </div>
</div>
<!--end foot -->
<!--=== End Copyright ===-->

<script type="text/javascript">
    jQuery(document).ready(function () {
        var isBindWechat = $("#isBindWechat").val();
        var appId = $("#appId").val();
        if (null == appId || "" == appId.trim()) {
            appId = "wx98022f921a4c511a";
        }
        if (null != isBindWechat && "false" == isBindWechat) {
            $("#tips").show();
        } else {
            $("#tips").hide();
        }
        CheckoutForm.initCheckoutForm();
        new WOW().init();
        $(".dropdown-select").click(function () {
            $(this).parent().parent().prev().prev().html($(this).html());
        })
        $(".more-btn").click(function () {
            $(this).prev().find(".letter").toggleClass("dn");
            $(this).prev().find(".ul-list").toggleClass("h_20");
        });
        var scanUrl = $("#scanUrl").val();
        var obj = new WxLogin({
            id: "login_container",
            appid: appId,
            scope: "snsapi_login",
            redirect_uri: encodeURI(scanUrl + "/pc/login"),
            state: "1",
            style: "white",
            href: ""
        });
        $("#checkVerifyCode").blur(function(){ //验证用户名是否存在
            $.post(
                "/checkVerifyCode",
                {
                    verifycode:$("#checkVerifyCode").val()
                },
                function(rtx){
                    if(rtx){

                    }else{

                    }
                }
            )
        })
    });
    function changeVerifyCode(){
        var append = '?' + new Date().getTime();
        $("#login_img_verifycode").attr('src', '/auth/loginVerifyCode' + append);
    }
</script>

<!--[if lt IE 9]>
<script src="//cdn.doctorm.cn/unify19/assets/plugins/respond.js"></script>
<![endif]-->
</body>
</html>